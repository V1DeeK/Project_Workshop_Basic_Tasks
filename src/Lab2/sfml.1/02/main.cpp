// Подключаем библиотеку SFML для работы с графикой
#include <SFML/Graphics.hpp>

// Главная функция программы - точка входа
int main()
{
    // Создаем окно размером 800x400 пикселей для отображения инициалов
    // sf::RenderWindow - класс для создания и управления окном
    // sf::VideoMode({800, 400}) - задает размер окна: ширина 800, высота 400
    // "Initials: GVD" - заголовок окна с указанием инициалов
    sf::RenderWindow window(sf::VideoMode({800, 400}), "Initials: GVD");
    
    // === БУКВА G ===
    // Создаем левую вертикальную линию буквы G
    // sf::RectangleShape - класс для рисования прямоугольников
    // sf::Vector2f(25, 220) - размер: ширина 25, высота 220 пикселей
    sf::RectangleShape gLeft(sf::Vector2f(25, 220));
    // Устанавливаем позицию левой линии: X=100, Y=90 (верхняя граница буквы)
    // setPosition({x, y}) - устанавливает координаты левого верхнего угла
    gLeft.setPosition({100, 90});
    // Устанавливаем цвет заливки - черный
    // sf::Color::Black - предопределенная константа для черного цвета
    gLeft.setFillColor(sf::Color::Black);
    
    // Создаем верхнюю горизонтальную линию буквы G
    // Размер: ширина 140, высота 25 пикселей
    sf::RectangleShape gTop(sf::Vector2f(140, 25));
    // Позиция совпадает с левой линией (верхний левый угол буквы)
    gTop.setPosition({100, 90});
    // Устанавливаем черный цвет
    gTop.setFillColor(sf::Color::Black);
    
    // Создаем нижнюю горизонтальную линию буквы G
    // Размер: ширина 140, высота 25 пикселей
    sf::RectangleShape gBottom(sf::Vector2f(140, 25));
    // Позиция: X=100 (как у других частей G), Y=285 (нижняя граница буквы)
    gBottom.setPosition({100, 285});
    // Устанавливаем черный цвет
    gBottom.setFillColor(sf::Color::Black);
    
    // Создаем правую вертикальную линию буквы G (неполная, только нижняя часть)
    // Размер: ширина 25, высота 120 пикселей
    sf::RectangleShape gRight(sf::Vector2f(25, 120));
    // Позиция: X=215 (правая граница буквы), Y=190 (средняя часть)
    gRight.setPosition({215, 190});
    // Устанавливаем черный цвет
    gRight.setFillColor(sf::Color::Black);
    
    // Создаем внутреннюю горизонтальную линию буквы G (перемычка)
    // Размер: ширина 80, высота 25 пикселей
    sf::RectangleShape gInner(sf::Vector2f(80, 25));
    // Позиция: X=140 (отступ от левого края), Y=190 (на уровне правой линии)
    gInner.setPosition({140, 190});
    // Устанавливаем черный цвет
    gInner.setFillColor(sf::Color::Black);
    
    // === БУКВА V (из двух трапеций через ConvexShape) ===
    // Буква V создается из двух трапеций, которые образуют наклонные линии
    // Константы для расчета координат буквы V
    // topY - верхняя позиция буквы (совпадает с G и D)
    const float topY = 90.0f; // Верхняя позиция (как у букв G и D)
    // bottomY - нижняя позиция буквы (нижняя граница всех букв)
    // 285 - позиция нижней линии, 25 - высота линии, итого 310
    const float bottomY = 310.0f; // Нижняя позиция (нижняя граница букв G и D: y=285+25=310)
    // centerX - центр буквы V по горизонтали
    const float centerX = 360.0f; // Центр буквы V по X
    // vWidthAtTop - ширина буквы V вверху (расстояние между верхними точками)
    const float vWidthAtTop = 140.0f; // Увеличена ширина буквы V вверху для правильной высоты
    // vWidthAtBottom - ширина нижнего края (расстояние между нижними точками)
    const float vWidthAtBottom = 50.0f; // Увеличена ширина нижнего края (широкое основание)
    // lineWidth - толщина наклонных линий буквы V
    const float lineWidth = 30.0f; // Толщина линий буквы V
    
    // === ЛЕВАЯ ТРАПЕЦИЯ (левая наклонная линия буквы V) ===
    // sf::ConvexShape - класс для рисования выпуклых многоугольников
    sf::ConvexShape vLeft;
    // Устанавливаем количество вершин трапеции (4 точки)
    vLeft.setPointCount(4);
    // Устанавливаем координаты вершин трапеции (против часовой стрелки)
    // Точка 0: верхняя левая точка (внешняя граница)
    // centerX - vWidthAtTop/2 - левая граница вверху
    vLeft.setPoint(0, sf::Vector2f(centerX - vWidthAtTop / 2.0f, topY));
    // Точка 1: верхняя правая точка (внутренняя граница, для создания толщины)
    // Добавляем lineWidth для создания толщины линии
    vLeft.setPoint(1, sf::Vector2f(centerX - vWidthAtTop / 2.0f + lineWidth, topY));
    // Точка 2: нижняя правая точка (широкое основание внизу)
    // centerX + vWidthAtBottom/2 - правая граница внизу
    vLeft.setPoint(2, sf::Vector2f(centerX + vWidthAtBottom / 2.0f, bottomY));
    // Точка 3: нижняя левая точка (широкое основание внизу)
    // centerX - vWidthAtBottom/2 - левая граница внизу
    vLeft.setPoint(3, sf::Vector2f(centerX - vWidthAtBottom / 2.0f, bottomY));
    // Устанавливаем черный цвет заливки
    vLeft.setFillColor(sf::Color::Black);
    
    // === ПРАВАЯ ТРАПЕЦИЯ (правая наклонная линия буквы V) ===
    // Создаем вторую трапецию для правой наклонной линии
    sf::ConvexShape vRight;
    // Устанавливаем количество вершин (4 точки)
    vRight.setPointCount(4);
    // Устанавливаем координаты вершин трапеции (против часовой стрелки)
    // Точка 0: верхняя правая точка (внешняя граница)
    // centerX + vWidthAtTop/2 - правая граница вверху
    vRight.setPoint(0, sf::Vector2f(centerX + vWidthAtTop / 2.0f, topY));
    // Точка 1: верхняя левая точка (внутренняя граница, для создания толщины)
    // Вычитаем lineWidth для создания толщины линии
    vRight.setPoint(1, sf::Vector2f(centerX + vWidthAtTop / 2.0f - lineWidth, topY));
    // Точка 2: нижняя левая точка (широкое основание внизу)
    // centerX - vWidthAtBottom/2 - левая граница внизу
    vRight.setPoint(2, sf::Vector2f(centerX - vWidthAtBottom / 2.0f, bottomY));
    // Точка 3: нижняя правая точка (широкое основание внизу)
    // centerX + vWidthAtBottom/2 - правая граница внизу
    vRight.setPoint(3, sf::Vector2f(centerX + vWidthAtBottom / 2.0f, bottomY));
    // Устанавливаем черный цвет заливки
    vRight.setFillColor(sf::Color::Black);
    
    // === БУКВА D ===
    // Создаем левую вертикальную линию буквы D
    // Размер: ширина 25, высота 220 пикселей (как у буквы G)
    sf::RectangleShape dLeft(sf::Vector2f(25, 220));
    // Позиция: X=500 (правая часть окна), Y=90 (верхняя граница)
    dLeft.setPosition({500, 90});
    // Устанавливаем черный цвет
    dLeft.setFillColor(sf::Color::Black);
    
    // Создаем верхнюю горизонтальную линию буквы D
    // Размер: ширина 80, высота 25 пикселей
    sf::RectangleShape dTop(sf::Vector2f(80, 25));
    // Позиция: X=500 (как у левой линии), Y=90 (верхняя граница)
    dTop.setPosition({500, 90});
    // Устанавливаем черный цвет
    dTop.setFillColor(sf::Color::Black);
    
    // Создаем нижнюю горизонтальную линию буквы D
    // Размер: ширина 80, высота 25 пикселей
    sf::RectangleShape dBottom(sf::Vector2f(80, 25));
    // Позиция: X=500 (как у левой линии), Y=285 (нижняя граница)
    dBottom.setPosition({500, 285});
    // Устанавливаем черный цвет
    dBottom.setFillColor(sf::Color::Black);
    
    // === ПРАВАЯ КРИВАЯ ЧАСТЬ БУКВЫ D ===
    // Правая часть буквы D создается из множества маленьких прямоугольников,
    // расположенных по дуге для имитации кривой линии
    // Каждый прямоугольник имеет размер 20x20 пикселей
    // Позиции подобраны так, чтобы образовать плавную дугу от верхней до нижней линии
    
    // Первый прямоугольник (верхний, начало дуги)
    sf::RectangleShape dRight1(sf::Vector2f(20, 20)); 
    // Позиция: X=570 (правее верхней линии), Y=100 (чуть ниже верхней линии)
    dRight1.setPosition({570, 100});
    
    // Второй прямоугольник (ниже первого)
    sf::RectangleShape dRight2(sf::Vector2f(20, 20)); 
    // Позиция: X=580 (правее), Y=120 (ниже)
    dRight2.setPosition({580, 120});
    
    // Третий прямоугольник
    sf::RectangleShape dRight3(sf::Vector2f(20, 20)); 
    // Позиция: X=585 (еще правее), Y=140 (еще ниже)
    dRight3.setPosition({585, 140});
    
    // Четвертый прямоугольник
    sf::RectangleShape dRight4(sf::Vector2f(20, 20)); 
    // Позиция: X=585 (максимально вправо), Y=160 (середина)
    dRight4.setPosition({585, 160});
    
    // Пятый прямоугольник
    sf::RectangleShape dRight5(sf::Vector2f(20, 20)); 
    // Позиция: X=585 (максимально вправо), Y=180 (середина)
    dRight5.setPosition({585, 180});
    
    // Шестой прямоугольник
    sf::RectangleShape dRight6(sf::Vector2f(20, 20)); 
    // Позиция: X=585 (максимально вправо), Y=200 (середина)
    dRight6.setPosition({585, 200});
    
    // Седьмой прямоугольник
    sf::RectangleShape dRight7(sf::Vector2f(20, 20)); 
    // Позиция: X=585 (максимально вправо), Y=220 (середина)
    dRight7.setPosition({585, 220});
    
    // Восьмой прямоугольник (начинаем возвращаться влево)
    sf::RectangleShape dRight8(sf::Vector2f(20, 20)); 
    // Позиция: X=580 (влево), Y=240 (ниже)
    dRight8.setPosition({580, 240});
    
    // Девятый прямоугольник
    sf::RectangleShape dRight9(sf::Vector2f(20, 20)); 
    // Позиция: X=575 (еще влево), Y=260 (еще ниже)
    dRight9.setPosition({575, 260});
    
    // Десятый прямоугольник (нижний, конец дуги)
    sf::RectangleShape dRight10(sf::Vector2f(20, 20)); 
    // Позиция: X=570 (на уровне верхнего), Y=280 (чуть выше нижней линии)
    dRight10.setPosition({570, 280});
    
    // Устанавливаем черный цвет для всех прямоугольников правой части буквы D
    // Используем цикл for для перебора указателей на все прямоугольники
    // auto* r - автоматическое определение типа (указатель на RectangleShape)
    for (auto* r : {&dRight1, &dRight2, &dRight3, &dRight4, &dRight5,
                    &dRight6, &dRight7, &dRight8, &dRight9, &dRight10}) {
        // Устанавливаем черный цвет для текущего прямоугольника
        r->setFillColor(sf::Color::Black);
    }
    
    // === ОСНОВНОЙ ЦИКЛ ПРОГРАММЫ ===
    // Цикл работает, пока окно открыто
    // window.isOpen() - возвращает true, если окно открыто
    while (window.isOpen())
    {
        // === ОБРАБОТКА СОБЫТИЙ ===
        // Цикл обработки всех событий окна
        // window.pollEvent() - извлекает событие из очереди (SFML 3 API)
        // auto event - автоматическое определение типа (std::optional<sf::Event>)
        while (auto event = window.pollEvent())
        {
            // Проверяем, является ли событие закрытием окна
            // event->is<sf::Event::Closed>() - проверяет тип события (SFML 3 API)
            if (event->is<sf::Event::Closed>())
                // Закрываем окно, если пользователь нажал на крестик
                window.close();
        }
        
        // Очищаем окно белым цветом перед отрисовкой нового кадра
        // window.clear() - заполняет все окно указанным цветом
        window.clear(sf::Color::White);
        
        // === ОТРИСОВКА БУКВЫ G ===
        // Рисуем все части буквы G на окне
        // window.draw() - добавляет фигуру в буфер отрисовки
        window.draw(gLeft);   // Левая вертикальная линия
        window.draw(gTop);    // Верхняя горизонтальная линия
        window.draw(gBottom); // Нижняя горизонтальная линия
        window.draw(gRight);  // Правая вертикальная линия (частичная)
        window.draw(gInner);  // Внутренняя горизонтальная линия (перемычка)
        
        // === ОТРИСОВКА БУКВЫ V ===
        // Рисуем обе трапеции, образующие букву V
        window.draw(vLeft);  // Левая наклонная линия (левая трапеция)
        window.draw(vRight); // Правая наклонная линия (правая трапеция)
        
        // === ОТРИСОВКА БУКВЫ D ===
        // Рисуем все части буквы D на окне
        window.draw(dLeft);    // Левая вертикальная линия
        window.draw(dTop);     // Верхняя горизонтальная линия
        window.draw(dBottom);  // Нижняя горизонтальная линия
        // Рисуем все прямоугольники правой кривой части
        window.draw(dRight1);  // Первый прямоугольник (верхний)
        window.draw(dRight2); // Второй прямоугольник
        window.draw(dRight3); // Третий прямоугольник
        window.draw(dRight4); // Четвертый прямоугольник
        window.draw(dRight5); // Пятый прямоугольник
        window.draw(dRight6); // Шестой прямоугольник
        window.draw(dRight7); // Седьмой прямоугольник
        window.draw(dRight8); // Восьмой прямоугольник
        window.draw(dRight9); // Девятый прямоугольник
        window.draw(dRight10); // Десятый прямоугольник (нижний)
        
        // Отображаем все нарисованное на экране
        // window.display() - выводит содержимое буфера на экран
        window.display();
    }
    
    // Возвращаем 0 - код успешного завершения программы
    return 0;
}
